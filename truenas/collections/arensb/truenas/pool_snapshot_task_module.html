<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>arensb.truenas.pool_snapshot_task module – Maintain periodic disk pool snapshot tasks. &mdash; Ansible collections  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/ansible.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/antsibull-minimal.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/rtd-ethical-ads.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/images/Ansible-Mark-RGB_Black.png"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="arensb.truenas.service module" href="service_module.html" />
    <link rel="prev" title="arensb.truenas.plugin module – Manage plugins." href="plugin_module.html" /><!-- extra head elements for Ansible beyond RTD Sphinx Theme -->




</head>

<body class="wy-body-for-nav"><!-- extra body elements for Ansible beyond RTD Sphinx Theme -->

<div class="DocSite-globalNav ansibleNav">
  <ul>
    <li><a href="https://www.ansible.com/ansiblefest" target="_blank">AnsibleFest</a></li>
    <li><a href="https://www.ansible.com/tower" target="_blank">Products</a></li>
    <li><a href="https://www.ansible.com/community" target="_blank">Community</a></li>
    <li><a href="https://www.ansible.com/webinars-training" target="_blank">Webinars & Training</a></li>
    <li><a href="https://www.ansible.com/blog" target="_blank">Blog</a></li>
  </ul>
</div>

<a class="DocSite-nav" href="/" style="padding-bottom: 30px;">

  <img class="DocSiteNav-logo"
    src="../../../_static/images/Ansible-Mark-RGB_White.png"
    alt="Ansible Logo">
  <div class="DocSiteNav-title">Ansible Collections Documentation</div>
</a>
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Ansible collections
          </a><!--- Based on https://github.com/rtfd/sphinx_rtd_theme/pull/438/files -->

<div class="version">
  
    
  
</div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <label class="sr-only" for="q">Search docs:</label>
    <input type="text" class="st-default-search-input" id="q" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
              <p class="caption" role="heading"><span class="caption-text">Collections:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Collection Index</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Collections in the Arensb Namespace</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Arensb.Truenas</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="index.html#description">Description</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html#plugin-index">Plugin Index</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Plugin indexes:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../index_module.html">Index of all Modules</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference indexes:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../environment_variables.html">Index of all Collection Environment Variables</a></li>
</ul>
<!-- extra nav elements for Ansible beyond RTD Sphinx Theme -->

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Ansible collections</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Collection Index</a></li>
          <li class="breadcrumb-item"><a href="../index.html">Collections in the Arensb Namespace</a></li>
          <li class="breadcrumb-item"><a href="index.html">Arensb.Truenas</a></li>
      <li class="breadcrumb-item active">arensb.truenas.pool_snapshot_task module – Maintain periodic disk pool snapshot tasks.</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">

  
           <div itemprop="articleBody">
             
  <span class="target" id="ansible-collections-arensb-truenas-pool-snapshot-task-module"></span><section id="arensb-truenas-pool-snapshot-task-module-maintain-periodic-disk-pool-snapshot-tasks">
<h1>arensb.truenas.pool_snapshot_task module – Maintain periodic disk pool snapshot tasks.<a class="headerlink" href="#arensb-truenas-pool-snapshot-task-module-maintain-periodic-disk-pool-snapshot-tasks" title="Permalink to this heading"></a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/arensb/truenas">arensb.truenas collection</a> (version 1.6.0).</p>
<p>To install it, use: <code class="code docutils literal notranslate"><span class="pre">ansible-galaxy</span> <span class="pre">collection</span> <span class="pre">install</span> <span class="pre">arensb.truenas</span></code>.</p>
<p>To use it in a playbook, specify: <code class="code docutils literal notranslate"><span class="pre">arensb.truenas.pool_snapshot_task</span></code>.</p>
</div>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></p></li>
<li><p><a class="reference internal" href="#parameters" id="id2">Parameters</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id3">Examples</a></p></li>
<li><p><a class="reference internal" href="#return-values" id="id4">Return Values</a></p></li>
</ul>
</nav>
<section id="synopsis">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Synopsis</a><a class="headerlink" href="#synopsis" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Creates, deletes, and configures disk pool snapshot tasks.</p></li>
</ul>
</section>
<section id="parameters">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Parameters</a><a class="headerlink" href="#parameters" title="Permalink to this heading"></a></h2>
<table class="ansible-option-table docutils align-default" style="width: 100%">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-allow_empty"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-allow-empty"><strong>allow_empty</strong></p>
<a class="ansibleOptionLink" href="#parameter-allow_empty" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p>
</div></td>
<td><div class="ansible-option-cell"><dl class="simple">
<dt>When true, empty snapshots may be created. This can be useful when</dt><dd><p>there are two overlapping sets of snapshots, e.g., a daily set
and a weekly set: the weekly snapshot may be empty because the daily
one already contains the changes to the filesystem, but you still
want to keep the weekly snapshot when the daily one has expired.</p>
</dd>
</dl>
<p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p>
<ul class="simple">
<li><p><code class="ansible-option-choices-entry docutils literal notranslate"><span class="pre">false</span></code></p></li>
<li><p><code class="ansible-option-choices-entry docutils literal notranslate"><span class="pre">true</span></code></p></li>
</ul>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-begin_time"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-begin-time"><strong>begin_time</strong></p>
<a class="ansibleOptionLink" href="#parameter-begin_time" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>Time at which to begin taking snapshots. This is a string in the form “HH:MM”</p>
<p>See also <code class="docutils literal notranslate"><span class="pre">end_time</span></code>.</p>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-dataset"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-dataset"><strong>dataset</strong></p>
<a class="ansibleOptionLink" href="#parameter-dataset" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>The name of the dataset to snapshot. This can be a pool, ZFS dataset, or zvol.</p>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-day"></div>
<div class="ansibleOptionAnchor" id="parameter-date"></div>
<div class="ansibleOptionAnchor" id="parameter-dom"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-dom"><span id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-day"></span><span id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-date"></span><strong>day</strong></p>
<a class="ansibleOptionLink" href="#parameter-day" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: date, dom</span></p>
<p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>Day of month when the task should run, in cron format.</p>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-enabled"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-enabled"><strong>enabled</strong></p>
<a class="ansibleOptionLink" href="#parameter-enabled" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>Whether this snapshot task is enabled.</p>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-end_time"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-end-time"><strong>end_time</strong></p>
<a class="ansibleOptionLink" href="#parameter-end_time" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>Time at which to stop taking snapshots. This is a string in the form “HH:MM”</p>
<p>See also <code class="docutils literal notranslate"><span class="pre">begin_time</span></code>.</p>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-exclude"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-exclude"><strong>exclude</strong></p>
<a class="ansibleOptionLink" href="#parameter-exclude" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>A list of child datasets to exclude from snapshotting.</p>
<p>If a snapshot task is non-recursive, it may not have an exclude list, so if you specify a non-empty exclude list to a non-recursive task, this module will silently clear it.</p>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-hour"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-hour"><strong>hour</strong></p>
<a class="ansibleOptionLink" href="#parameter-hour" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>Hour when the task should run, in cron format.</p>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-lifetime_unit"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-lifetime-unit"><strong>lifetime_unit</strong></p>
<a class="ansibleOptionLink" href="#parameter-lifetime_unit" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-cell"><dl class="simple">
<dt>A unit of time for the snapshot lifetime before it is deleted.</dt><dd><p>One of the following units of time:
<code class="docutils literal notranslate"><span class="pre">hour</span></code>, <code class="docutils literal notranslate"><span class="pre">day</span></code>, <code class="docutils literal notranslate"><span class="pre">week</span></code>, <code class="docutils literal notranslate"><span class="pre">month</span></code>, <code class="docutils literal notranslate"><span class="pre">year</span></code>,
optionally pluralized.</p>
</dd>
</dl>
<p>Along with <code class="docutils literal notranslate"><span class="pre">lifetime_value</span></code>, specifies the length of time a snapshot will be kept before being deleted.</p>
<p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p>
<ul class="simple">
<li><p><code class="ansible-option-choices-entry docutils literal notranslate"><span class="pre">&quot;hour&quot;</span></code></p></li>
<li><p><code class="ansible-option-choices-entry docutils literal notranslate"><span class="pre">&quot;hours&quot;</span></code></p></li>
<li><p><code class="ansible-option-choices-entry docutils literal notranslate"><span class="pre">&quot;day&quot;</span></code></p></li>
<li><p><code class="ansible-option-choices-entry docutils literal notranslate"><span class="pre">&quot;days&quot;</span></code></p></li>
<li><p><code class="ansible-option-choices-entry docutils literal notranslate"><span class="pre">&quot;week&quot;</span></code></p></li>
<li><p><code class="ansible-option-choices-entry docutils literal notranslate"><span class="pre">&quot;weeks&quot;</span></code></p></li>
<li><p><code class="ansible-option-choices-entry docutils literal notranslate"><span class="pre">&quot;month&quot;</span></code></p></li>
<li><p><code class="ansible-option-choices-entry docutils literal notranslate"><span class="pre">&quot;months&quot;</span></code></p></li>
<li><p><code class="ansible-option-choices-entry docutils literal notranslate"><span class="pre">&quot;year&quot;</span></code></p></li>
<li><p><code class="ansible-option-choices-entry docutils literal notranslate"><span class="pre">&quot;years&quot;</span></code></p></li>
</ul>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-lifetime_value"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-lifetime-value"><strong>lifetime_value</strong></p>
<a class="ansibleOptionLink" href="#parameter-lifetime_value" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>The number of units of time that the snapshot will exist before it is deleted. Used in conjunction with <code class="docutils literal notranslate"><span class="pre">lifetime_unit</span></code>.</p>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-match"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-match"><strong>match</strong></p>
<a class="ansibleOptionLink" href="#parameter-match" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>A snapshot task does not have a name or other visible unique identifier, so the <code class="docutils literal notranslate"><span class="pre">match</span></code> option provides a way of specifying which of several tasks the play is configuring, as well as telling whether the task exists yet or not.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">match</span></code> option is a dict with one or more keywords identifying the task. At least one must be provided.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">state</span></code> option is <code class="docutils literal notranslate"><span class="pre">present</span></code>, only the first matching dataset will be updated. If <code class="docutils literal notranslate"><span class="pre">state</span></code> is <code class="docutils literal notranslate"><span class="pre">absent</span></code>, all matching datasets will be deleted.</p>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-indent"></div><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-match/dataset"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-match-dataset"><strong>dataset</strong></p>
<a class="ansibleOptionLink" href="#parameter-match/dataset" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-indent-desc"></div><div class="ansible-option-cell"><p>Name of the dataset being snapshotted. This can be a pool, dataset, or zvol.</p>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-indent"></div><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-match/name_format"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-match-name-format"><strong>name_format</strong></p>
<a class="ansibleOptionLink" href="#parameter-match/name_format" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-indent-desc"></div><div class="ansible-option-cell"><dl class="simple">
<dt>This is a regular expression that the <code class="docutils literal notranslate"><span class="pre">name_format</span></code> option must</dt><dd><p>match. The idea being that you can name your snapshots something
like <code class="docutils literal notranslate"><span class="pre">daily-%Y%m%d</span></code>, and identify them by the prefix, using
<code class="docutils literal notranslate"><span class="pre">name_format:</span> <span class="pre">^daily-</span></code>.</p>
</dd>
</dl>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-minute"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-minute"><strong>minute</strong></p>
<a class="ansibleOptionLink" href="#parameter-minute" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>Minute when the task should run, in cron format.</p>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-month"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-month"><strong>month</strong></p>
<a class="ansibleOptionLink" href="#parameter-month" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>Month when the task should run, in cron format.</p>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-name_format"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-name-format"><strong>name_format</strong></p>
<a class="ansibleOptionLink" href="#parameter-name_format" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p>
</div></td>
<td><div class="ansible-option-cell"><dl class="simple">
<dt>A template specifying the name of the snapshot. This must include</dt><dd><p>the strings “%Y”, “%m”, “%d”, “%H”, and “%M”. Their meanings are
as in <code class="docutils literal notranslate"><span class="pre">strftime</span></code>: year, month, date, hour, and minute.
Other <code class="docutils literal notranslate"><span class="pre">strftime</span></code> sequences may also be included.</p>
</dd>
</dl>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-recursive"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-recursive"><strong>recursive</strong></p>
<a class="ansibleOptionLink" href="#parameter-recursive" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>Whether to take snapshots of the child datasets, as well as of the dataset itself.</p>
<p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p>
<ul class="simple">
<li><p><code class="ansible-option-choices-entry docutils literal notranslate"><span class="pre">false</span></code></p></li>
<li><p><code class="ansible-option-choices-entry docutils literal notranslate"><span class="pre">true</span></code></p></li>
</ul>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-state"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-state"><strong>state</strong></p>
<a class="ansibleOptionLink" href="#parameter-state" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>Whether the task should exist or not.</p>
<p class="ansible-option-line"><span class="ansible-option-choices">Choices:</span></p>
<ul class="simple">
<li><p><code class="ansible-option-choices-entry docutils literal notranslate"><span class="pre">&quot;absent&quot;</span></code></p></li>
<li><p><code class="ansible-option-default-bold docutils literal notranslate"><span class="pre">&quot;present&quot;</span></code> <span class="ansible-option-choices-default-mark">← (default)</span></p></li>
</ul>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-weekday"></div>
<div class="ansibleOptionAnchor" id="parameter-dow"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-weekday"><span id="ansible-collections-arensb-truenas-pool-snapshot-task-module-parameter-dow"></span><strong>weekday</strong></p>
<a class="ansibleOptionLink" href="#parameter-weekday" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: dow</span></p>
<p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>Day of week when the task should run, in cron format.</p>
</div></td>
</tr>
</tbody>
</table>
</section>
<section id="examples">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Examples</a><a class="headerlink" href="#examples" title="Permalink to this heading"></a></h2>
<div class="highlight-yaml+jinja notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Hourly snapshots of data/vol1</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myhost</span>
<span class="w">  </span><span class="nt">collections</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arensb.truenas</span>
<span class="w">  </span><span class="nt">become</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">pool_snapshot_task</span><span class="p">:</span>
<span class="w">        </span><span class="nt">match</span><span class="p">:</span>
<span class="w">          </span><span class="nt">dataset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data/vol1</span>
<span class="w">          </span><span class="nt">name_format</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hourly-&quot;</span>
<span class="w">        </span><span class="nt">dataset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data/vol1</span>
<span class="w">        </span><span class="c1"># Keep them for 7 days</span>
<span class="w">        </span><span class="nt">lifetime_value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span>
<span class="w">        </span><span class="nt">lifetime_unit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">days</span>
<span class="w">        </span><span class="nt">name_format</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hourly-%Y-%m-%d_%H:%M&quot;</span>
<span class="w">        </span><span class="c1"># Snapshot everything under data/vol1, with a couple of exceptions.</span>
<span class="w">        </span><span class="nt">recursive</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<span class="w">        </span><span class="nt">exclude</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data/vol1/ex1</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data/vol1/ex2</span>
<span class="w">        </span><span class="c1"># Take snapshots every 2 hours on weekdays</span>
<span class="w">        </span><span class="nt">minute</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;*&quot;</span>
<span class="w">        </span><span class="nt">hour</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;*/2&quot;</span>
<span class="w">        </span><span class="nt">day</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;*&quot;</span>
<span class="w">        </span><span class="nt">month</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;*&quot;</span>
<span class="w">        </span><span class="nt">weekday</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Mon-Fri</span>
</pre></div>
</div>
</section>
<section id="return-values">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Return Values</a><a class="headerlink" href="#return-values" title="Permalink to this heading"></a></h2>
<p>Common return values are documented <a class="reference external" href="https://docs.ansible.com/ansible/devel/reference_appendices/common_return_values.html#common-return-values" title="(in Ansible vdevel)"><span class="xref std std-ref">here</span></a>, the following are the fields unique to this module:</p>
<table class="ansible-option-table docutils align-default" style="width: 100%">
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="return-deleted_tasks"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-pool-snapshot-task-module-return-deleted-tasks"><strong>deleted_tasks</strong></p>
<a class="ansibleOptionLink" href="#return-deleted_tasks" title="Permalink to this return value"></a><p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>List of tasks that were deleted when <code class="docutils literal notranslate"><span class="pre">state</span></code> is ‘absent’.</p>
<p class="ansible-option-line"><span class="ansible-option-returned-bold">Returned:</span> success</p>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="return-task"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-pool-snapshot-task-module-return-task"><strong>task</strong></p>
<a class="ansibleOptionLink" href="#return-task" title="Permalink to this return value"></a><p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>A data structure describing a newly-created snapshot task.</p>
<p class="ansible-option-line"><span class="ansible-option-returned-bold">Returned:</span> Success, when created.</p>
<p class="ansible-option-line ansible-option-sample"><span class="ansible-option-sample-bold">Sample:</span> <code class="ansible-option-sample docutils literal notranslate"><span class="pre">{&quot;allow_empty&quot;:</span> <span class="pre">true,</span> <span class="pre">&quot;dataset&quot;:</span> <span class="pre">&quot;tank&quot;,</span> <span class="pre">&quot;enabled&quot;:</span> <span class="pre">true,</span> <span class="pre">&quot;exclude&quot;:</span> <span class="pre">[],</span> <span class="pre">&quot;id&quot;:</span> <span class="pre">123,</span> <span class="pre">&quot;lifetime_unit&quot;:</span> <span class="pre">&quot;YEAR&quot;,</span> <span class="pre">&quot;lifetime_value&quot;:</span> <span class="pre">1,</span> <span class="pre">&quot;naming_schema&quot;:</span> <span class="pre">&quot;monthly-%Y-%m-%d_%H:%M&quot;,</span> <span class="pre">&quot;recursive&quot;:</span> <span class="pre">true,</span> <span class="pre">&quot;schedule&quot;:</span> <span class="pre">{&quot;begin&quot;:</span> <span class="pre">&quot;00:00&quot;,</span> <span class="pre">&quot;dom&quot;:</span> <span class="pre">&quot;1&quot;,</span> <span class="pre">&quot;dow&quot;:</span> <span class="pre">&quot;*&quot;,</span> <span class="pre">&quot;end&quot;:</span> <span class="pre">&quot;23:59&quot;,</span> <span class="pre">&quot;hour&quot;:</span> <span class="pre">&quot;0&quot;,</span> <span class="pre">&quot;minute&quot;:</span> <span class="pre">&quot;0&quot;,</span> <span class="pre">&quot;month&quot;:</span> <span class="pre">&quot;*&quot;},</span> <span class="pre">&quot;state&quot;:</span> <span class="pre">{&quot;state&quot;:</span> <span class="pre">&quot;PENDING&quot;},</span> <span class="pre">&quot;vmware_sync&quot;:</span> <span class="pre">false}</span></code></p>
</div></td>
</tr>
</tbody>
</table>
<section id="collection-links">
<h3>Collection links<a class="headerlink" href="#collection-links" title="Permalink to this heading"></a></h3>
<p class="ansible-links">
  <a href="https://github.com/arensb/ansible-truenas/issues" aria-role="button" target="_blank" rel="noopener external">Issue Tracker</a>
  <a href="https://github.com/arensb/ansible-truenas" aria-role="button" target="_blank" rel="noopener external">Repository (Sources)</a>
</p></section>
</section>
</section>


           </div>
          </div>
          

<footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="plugin_module.html" class="btn btn-neutral float-left" title="arensb.truenas.plugin module – Manage plugins." accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="service_module.html" class="btn btn-neutral float-right" title="arensb.truenas.service module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Ansible contributors.</p>
  </div>

  
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script><!-- extra footer elements for Ansible beyond RTD Sphinx Theme -->

</body>
</html>