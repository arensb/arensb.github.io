

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="2.17.0" name="antsibull-docs" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>arensb.truenas.jail_fstab module – Manage a jail’s fstab &mdash; Ansible collections  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=41de9001" />
      <link rel="stylesheet" type="text/css" href="_static/css/ansible.css?v=c5b67dd2" />
      <link rel="stylesheet" type="text/css" href="_static/antsibull-minimal.css?v=66f20655" />
      <link rel="stylesheet" type="text/css" href="_static/css/rtd-ethical-ads.css?v=289b023e" />

  
    <link rel="shortcut icon" href="_static/images/Ansible-Mark-RGB_Black.png"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=7f41d439"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="arensb.truenas.jails module – Configure jail system" href="jails_module.html" />
    <link rel="prev" title="arensb.truenas.jail module – Manage a jail" href="jail_module.html" /><!-- extra head elements for Ansible beyond RTD Sphinx Theme -->




</head>

<body class="wy-body-for-nav"><!-- extra body elements for Ansible beyond RTD Sphinx Theme -->

<div class="DocSite-globalNav ansibleNav">
  <ul>
    <li><a href="https://www.ansible.com/blog" target="_blank">Blog</a></li>
    <li><a href="https://forum.ansible.com/" target="_blank">Ansible community forum</a></li>
    <li><a href="https://docs.ansible.com/" target="_blank">Documentation</a></li>
  </ul>
</div>

<a class="DocSite-nav" href="/" style="padding-bottom: 30px;">

  <img class="DocSiteNav-logo"
    src="_static/images/Ansible-Mark-RGB_White.png"
    alt="Ansible Logo">
  <div class="DocSiteNav-title">Ansible Collections Documentation</div>
</a>
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Ansible collections
          </a><!--- Based on https://github.com/rtfd/sphinx_rtd_theme/pull/438/files -->

<div class="version">
  
    
  
</div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <label class="sr-only" for="q">Search docs:</label>
    <input type="text" class="st-default-search-input" id="q" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="filesystem_module.html">arensb.truenas.filesystem module – Manage ZFS datasets (filesystems/volumes) via TrueNAS middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_module.html">arensb.truenas.group module – Manage groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="hostname_module.html">arensb.truenas.hostname module – Set the hostname.</a></li>
<li class="toctree-l1"><a class="reference internal" href="initscript_module.html">arensb.truenas.initscript module – Manage init/shutdown scripts.</a></li>
<li class="toctree-l1"><a class="reference internal" href="jail_module.html">arensb.truenas.jail module – Manage a jail</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">arensb.truenas.jail_fstab module – Manage a jail’s fstab</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l2"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#return-values">Return Values</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#collection-links">Collection links</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="jails_module.html">arensb.truenas.jails module – Configure jail system</a></li>
<li class="toctree-l1"><a class="reference internal" href="mail_module.html">arensb.truenas.mail module – Manage TrueNAS email settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="nfs_module.html">arensb.truenas.nfs module – Configure NFS service</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugin_module.html">arensb.truenas.plugin module – Manage plugins.</a></li>
<li class="toctree-l1"><a class="reference internal" href="pool_scrub_task_module.html">arensb.truenas.pool_scrub_task module – Schedule periodic scrub of ZFS pools.</a></li>
<li class="toctree-l1"><a class="reference internal" href="pool_snapshot_task_module.html">arensb.truenas.pool_snapshot_task module – Maintain periodic disk pool snapshot tasks.</a></li>
<li class="toctree-l1"><a class="reference internal" href="service_module.html">arensb.truenas.service module – Manage TrueNAS services</a></li>
<li class="toctree-l1"><a class="reference internal" href="sharing_nfs_module.html">arensb.truenas.sharing_nfs module – Manage NFS sharing</a></li>
<li class="toctree-l1"><a class="reference internal" href="sharing_smb_module.html">arensb.truenas.sharing_smb module – Manage SMB sharing</a></li>
<li class="toctree-l1"><a class="reference internal" href="smart_module.html">arensb.truenas.smart module – Configure S.M.A.R.T. service</a></li>
<li class="toctree-l1"><a class="reference internal" href="smart_test_task_module.html">arensb.truenas.smart_test_task module – Schedule S.M.A.R.T. tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="systemdataset_module.html">arensb.truenas.systemdataset module – Manage the system dataset.</a></li>
<li class="toctree-l1"><a class="reference internal" href="truenas_facts_module.html">arensb.truenas.truenas_facts module – Gather TrueNAS-related facts</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_module.html">arensb.truenas.user module – Manage user accounts</a></li>
</ul>
<!-- extra nav elements for Ansible beyond RTD Sphinx Theme -->

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Ansible collections</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">arensb.truenas.jail_fstab module – Manage a jail’s fstab</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">

  
           <div itemprop="articleBody">
             
  <span class="target" id="ansible-collections-arensb-truenas-jail-fstab-module"></span><section id="arensb-truenas-jail-fstab-module-manage-a-jail-s-fstab">
<h1>arensb.truenas.jail_fstab module – Manage a jail’s fstab<a class="headerlink" href="#arensb-truenas-jail-fstab-module-manage-a-jail-s-fstab" title="Link to this heading"></a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/arensb/truenas">arensb.truenas collection</a> (version 1.11.5).</p>
<p>It is not included in <code class="docutils literal notranslate"><span class="pre">ansible-core</span></code>.
To check whether it is installed, run <code class="code docutils literal notranslate"><span class="pre">ansible-galaxy</span> <span class="pre">collection</span> <span class="pre">list</span></code>.</p>
<p>To install it, use: <code class="code docutils literal notranslate"><span class="pre">ansible-galaxy</span> <span class="pre">collection</span> <span class="pre">install</span> <span class="pre">arensb.truenas</span></code>.</p>
<p>To use it in a playbook, specify: <code class="code docutils literal notranslate"><span class="pre">arensb.truenas.jail_fstab</span></code>.</p>
</div>
<p class="ansible-version-added">New in arensb.truenas 1.9.0</p>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></p></li>
<li><p><a class="reference internal" href="#parameters" id="id2">Parameters</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id3">Examples</a></p></li>
<li><p><a class="reference internal" href="#return-values" id="id4">Return Values</a></p></li>
</ul>
</nav>
<section id="synopsis">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Synopsis</a><a class="headerlink" href="#synopsis" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Add, remove, mount, and unmount filesystems that a jail sees.</p></li>
<li><p>Note that changes can only be made when the jail is stopped, so this module will attempt to stop the jail if it needs to, and then restart it after the changes are made.</p></li>
<li><p>If you do not want production jails to be restarted without your explicit approval, you can add a clause like <code class="docutils literal notranslate"><span class="pre">check_mode:</span> <span class="pre">&quot;{{</span> <span class="pre">restart_jails</span> <span class="pre">!=</span> <span class="pre">'yes'</span> <span class="pre">}}&quot;</span></code></p></li>
</ul>
</section>
<section id="parameters">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Parameters</a><a class="headerlink" href="#parameters" title="Link to this heading"></a></h2>
<table class="longtable ansible-option-table docutils align-default" style="width: 100%">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-append"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-jail-fstab-module-parameter-append"><strong>append</strong></p>
<a class="ansibleOptionLink" href="#parameter-append" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>If <code class="docutils literal notranslate"><span class="pre">yes</span></code>, other filesystems may be mounted besides the ones listed in <code class="docutils literal notranslate"><span class="pre">fstab</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">no</span></code>, any mounts other than the ones in <code class="docutils literal notranslate"><span class="pre">fstab</span></code> will be removed.</p>
<p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p>
<ul class="simple">
<li><p><code class="ansible-option-default-bold docutils literal notranslate"><strong><span class="pre">false</span></strong></code> <span class="ansible-option-choices-default-mark">← (default)</span></p></li>
<li><p><code class="ansible-option-choices-entry docutils literal notranslate"><span class="pre">true</span></code></p></li>
</ul>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-fstab"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-jail-fstab-module-parameter-fstab"><strong>fstab</strong></p>
<a class="ansibleOptionLink" href="#parameter-fstab" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>List of mount points. Each element is a dictionary.</p>
<p>Most people will only need to specify <code class="docutils literal notranslate"><span class="pre">src</span></code>, <code class="docutils literal notranslate"><span class="pre">mount</span></code>, and <code class="docutils literal notranslate"><span class="pre">options</span></code>. The rest are advanced options.</p>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-indent"></div><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-fstab/dump"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-jail-fstab-module-parameter-fstab-dump"><strong>dump</strong></p>
<a class="ansibleOptionLink" href="#parameter-fstab/dump" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p>
</div></td>
<td><div class="ansible-option-indent-desc"></div><div class="ansible-option-cell"><p>Used by the <code class="docutils literal notranslate"><span class="pre">dump</span></code> command. This field gives the number of days between backups. A value of 0 means “no backups”.</p>
<p>This is the <code class="docutils literal notranslate"><span class="pre">fs_freq</span></code> field in fstab(5).</p>
<p>For a jail, this will typically be 0.</p>
<p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code class="ansible-option-default docutils literal notranslate"><span class="pre">0</span></code></p>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-indent"></div><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-fstab/fsck_pass"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-jail-fstab-module-parameter-fstab-fsck-pass"><strong>fsck_pass</strong></p>
<a class="ansibleOptionLink" href="#parameter-fstab/fsck_pass" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p>
</div></td>
<td><div class="ansible-option-indent-desc"></div><div class="ansible-option-cell"><p>Used by <code class="docutils literal notranslate"><span class="pre">fsck</span></code> to determine the order in which to check filesystems at boot time.</p>
<p>This is not normally useful in a jail. It is included here for completeness.</p>
<p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code class="ansible-option-default docutils literal notranslate"><span class="pre">0</span></code></p>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-indent"></div><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-fstab/fstype"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-jail-fstab-module-parameter-fstab-fstype"><strong>fstype</strong></p>
<a class="ansibleOptionLink" href="#parameter-fstab/fstype" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-indent-desc"></div><div class="ansible-option-cell"><p>Filesystem type.</p>
<p>When mounting an existing directory, use <code class="docutils literal notranslate"><span class="pre">nullfs</span></code>.</p>
<p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code class="ansible-option-default docutils literal notranslate"><span class="pre">&quot;nullfs&quot;</span></code></p>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-indent"></div><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-fstab/mount"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-jail-fstab-module-parameter-fstab-mount"><strong>mount</strong></p>
<a class="ansibleOptionLink" href="#parameter-fstab/mount" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p>
</div></td>
<td><div class="ansible-option-indent-desc"></div><div class="ansible-option-cell"><p>The directory where the device should be mounted.</p>
<p>This is a relative path, relative to the jail’s root, typically <code class="docutils literal notranslate"><span class="pre">/mnt/&lt;pool&gt;/iocage/jails/&lt;jail-name&gt;/root</span></code>.</p>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-indent"></div><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-fstab/options"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-jail-fstab-module-parameter-fstab-options"><strong>options</strong></p>
<a class="ansibleOptionLink" href="#parameter-fstab/options" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-indent-desc"></div><div class="ansible-option-cell"><p>Filesystem options to pass to <code class="docutils literal notranslate"><span class="pre">mount</span></code>. Comma-separated string.</p>
<p>The most common values are <code class="docutils literal notranslate"><span class="pre">ro</span></code> (read-only) and <code class="docutils literal notranslate"><span class="pre">rw</span></code> (read-write).</p>
<p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code class="ansible-option-default docutils literal notranslate"><span class="pre">&quot;ro&quot;</span></code></p>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-indent"></div><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-fstab/src"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-jail-fstab-module-parameter-fstab-src"><strong>src</strong></p>
<a class="ansibleOptionLink" href="#parameter-fstab/src" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p>
</div></td>
<td><div class="ansible-option-indent-desc"></div><div class="ansible-option-cell"><p>The device to mount, or the directory to share with the jail.</p>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-indent"></div><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-fstab/state"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-jail-fstab-module-parameter-fstab-state"><strong>state</strong></p>
<a class="ansibleOptionLink" href="#parameter-fstab/state" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p>
</div></td>
<td><div class="ansible-option-indent-desc"></div><div class="ansible-option-cell"><p>Whether the filesystem should be mounted or not.</p>
<p>Set <code class="docutils literal notranslate"><span class="pre">state</span></code> to <code class="docutils literal notranslate"><span class="pre">absent</span></code> to ensure that nothing is mounted at a given mount point.</p>
<p>By default, filesystems are mounted, because it is assumed that you want them available. In addition, setting <code class="docutils literal notranslate"><span class="pre">append</span></code> to <code class="docutils literal notranslate"><span class="pre">no</span></code> ensures that any filesystems not on the list are unmounted.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">state</span></code> is <code class="docutils literal notranslate"><span class="pre">present</span></code>, the <code class="docutils literal notranslate"><span class="pre">source</span></code> parameter is required. When <code class="docutils literal notranslate"><span class="pre">state</span></code> is <code class="docutils literal notranslate"><span class="pre">absent</span></code>, <code class="docutils literal notranslate"><span class="pre">source</span></code> can be omitted.</p>
<p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p>
<ul class="simple">
<li><p><code class="ansible-option-default-bold docutils literal notranslate"><strong><span class="pre">&quot;present&quot;</span></strong></code> <span class="ansible-option-choices-default-mark">← (default)</span></p></li>
<li><p><code class="ansible-option-choices-entry docutils literal notranslate"><span class="pre">&quot;absent&quot;</span></code></p></li>
</ul>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="parameter-jail"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-jail-fstab-module-parameter-jail"><strong>jail</strong></p>
<a class="ansibleOptionLink" href="#parameter-jail" title="Permalink to this option"></a><p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>Name of the jail</p>
</div></td>
</tr>
</tbody>
</table>
</section>
<section id="examples">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Examples</a><a class="headerlink" href="#examples" title="Link to this heading"></a></h2>
<div class="highlight-yaml+jinja notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Mount some directories inside a jail</span>
<span class="w">  </span><span class="nt">arensb.truenas.jail_fstab</span><span class="p">:</span>
<span class="w">    </span><span class="nt">jail</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">the-jail-name</span>
<span class="w">    </span><span class="nt">fstab</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">src</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/mnt/data/my-data</span>
<span class="w">        </span><span class="nt">mount</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/my-data</span>
<span class="w">        </span><span class="nt">fstype</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nullfs</span>
<span class="w">        </span><span class="nt">options</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ro</span>
<span class="w">        </span><span class="nt">dump</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">        </span><span class="nt">pass</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">src</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/mnt/data/more-data</span>
<span class="w">        </span><span class="nt">mount</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/data/more</span>

<span class="c1"># Making changes to fstab involves stopping the jail, then restarting it.</span>
<span class="c1"># This shows how to not affect running services unless the &#39;bounce_jails&#39;</span>
<span class="c1"># variable is set to &#39;yes&#39;.</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Don&#39;t halt production services</span>
<span class="w">  </span><span class="nt">arensb.truenas.jail_fstab</span><span class="p">:</span>
<span class="w">    </span><span class="nt">jail</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">the-jail-name</span>
<span class="w">    </span><span class="nt">fstab</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">src</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/mnt/data/my-data</span>
<span class="w">        </span><span class="nt">mount</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/my-data</span>
<span class="w">  </span><span class="nt">check_mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">ansible_check_mode</span> <span class="k">or</span> <span class="nv">bounce_jails</span> <span class="o">!=</span> <span class="s1">&#39;yes&#39;</span> <span class="cp">}}</span><span class="s">&quot;</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name: Ensure that a filesystem is *not* mounted</span><span class="p">:</span>
<span class="w">  </span><span class="nt">arensb.truenas.jail_fstab</span><span class="p">:</span>
<span class="w">    </span><span class="nt">jail</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">the-jail-name</span>
<span class="w">    </span><span class="nt">fstab</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">mount</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/old-data</span>
<span class="w">          </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">absent</span>
</pre></div>
</div>
</section>
<section id="return-values">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Return Values</a><a class="headerlink" href="#return-values" title="Link to this heading"></a></h2>
<p>Common return values are documented <a class="reference external" href="https://docs.ansible.com/ansible/devel/reference_appendices/common_return_values.html#common-return-values" title="(in Ansible vdevel)"><span class="xref std std-ref">here</span></a>, the following are the fields unique to this module:</p>
<table class="longtable ansible-option-table docutils align-default" style="width: 100%">
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="return-changes"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-jail-fstab-module-return-changes"><strong>changes</strong></p>
<a class="ansibleOptionLink" href="#return-changes" title="Permalink to this return value"></a><p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>In check mode, this is a detailed list of changed that would be made.</p>
<p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p>
</div></td>
</tr>
<tr class="row-odd"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="return-fstab"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-jail-fstab-module-return-fstab"><strong>fstab</strong></p>
<a class="ansibleOptionLink" href="#return-fstab" title="Permalink to this return value"></a><p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>The fstab of the jail fstab. This is a dict of elements of the form <code class="docutils literal notranslate"><span class="pre">{&quot;IDX&quot;:</span> <span class="pre">[source,</span> <span class="pre">destination,</span> <span class="pre">fstype,</span> <span class="pre">fsoptions,</span> <span class="pre">dump,</span> <span class="pre">pass],</span> <span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;USER&quot;}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">IDX</span></code> is an integer string: the position of the entry in its fstab, zero-based.</p>
<p><code class="docutils literal notranslate"><span class="pre">source</span></code> is the device being mounted, or the directory being shared with the jail.</p>
<p><code class="docutils literal notranslate"><span class="pre">destination</span></code> is the directory where the filesystem is mounted. This is an absolute path as seen from outside the jail.</p>
<p><code class="docutils literal notranslate"><span class="pre">fstype</span></code> is the mount’s filesystem type. For a null mount (filesystem shared with the jail), this is <code class="docutils literal notranslate"><span class="pre">nullfs</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">fsoptions</span></code> are the options passed to <code class="docutils literal notranslate"><span class="pre">mount</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">dump</span></code> and <code class="docutils literal notranslate"><span class="pre">pass</span></code> are the dump and pass values from the <code class="docutils literal notranslate"><span class="pre">fstab</span></code> entry.</p>
<p><code class="docutils literal notranslate"><span class="pre">type</span></code> specifies whether this is a system or user filesystem. In this module, it is always <code class="docutils literal notranslate"><span class="pre">&quot;USER&quot;</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">fstab</span></code> is returned in check mode as well.</p>
<p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p>
</div></td>
</tr>
<tr class="row-even"><td><div class="ansible-option-cell">
<div class="ansibleOptionAnchor" id="return-status"></div><p class="ansible-option-title" id="ansible-collections-arensb-truenas-jail-fstab-module-return-status"><strong>status</strong></p>
<a class="ansibleOptionLink" href="#return-status" title="Permalink to this return value"></a><p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p>
</div></td>
<td><div class="ansible-option-cell"><p>This module may affect multiple filesystems. <code class="docutils literal notranslate"><span class="pre">status</span></code> is a list of results, one for each change made.</p>
<p>For a successful change, this is typically <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p>
</div></td>
</tr>
</tbody>
</table>
<section id="collection-links">
<h3>Collection links<a class="headerlink" href="#collection-links" title="Link to this heading"></a></h3>
<ul class="ansible-links">
<li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/arensb/ansible-truenas/issues" rel="noopener external" target="_blank">Issue Tracker</a></span></li>
<li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/arensb/ansible-truenas" rel="noopener external" target="_blank">Repository (Sources)</a></span></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          

<footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="jail_module.html" class="btn btn-neutral float-left" title="arensb.truenas.jail module – Manage a jail" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="jails_module.html" class="btn btn-neutral float-right" title="arensb.truenas.jails module – Configure jail system" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Ansible contributors.</p>
  </div>

  
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script><!-- extra footer elements for Ansible beyond RTD Sphinx Theme -->

</body>
</html>